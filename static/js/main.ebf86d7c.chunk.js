(this["webpackJsonpcovid-stats"]=this["webpackJsonpcovid-stats"]||[]).push([[0],{431:function(e,t,a){e.exports=a(546)},432:function(e,t,a){},442:function(e,t,a){},546:function(e,t,a){"use strict";a.r(t);a(432),a(433);var n=a(127),r=a(576),o=a(577),c=a(0),i=a.n(c),s=a(18),u=a.n(s),l=a(21),d=(a(442),a(85)),f=a.n(d);f.a.setOptions({colors:["#058DC7","#50B432","#ED561B","#DDDF00","#24CBE5","#64E572","#FF9655","#FFF263","#6AF9C4"],chart:{backgroundColor:"#FFFFFF",plotBackgroundColor:"rgba(255, 255, 255, .9)",plotShadow:!1,plotBorderWidth:0},title:{style:{color:"#000",font:'bold 16px "Trebuchet MS", Verdana, sans-serif'}},subtitle:{style:{color:"#666666",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},xAxis:{gridLineWidth:1,lineColor:"#000",tickColor:"#000",labels:{style:{color:"#000",font:"11px Trebuchet MS, Verdana, sans-serif"}},title:{style:{color:"#333",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},yAxis:{minorTickInterval:"auto",lineColor:"#000",lineWidth:1,tickWidth:1,tickColor:"#000",labels:{style:{color:"#000",font:"11px Trebuchet MS, Verdana, sans-serif"}},title:{style:{color:"#333",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},legend:{itemStyle:{font:"9pt Trebuchet MS, Verdana, sans-serif",color:"black"},itemHoverStyle:{color:"#039"},itemHiddenStyle:{color:"gray"}},navigation:{buttonOptions:{theme:{stroke:"#CCCCCC"}}}});a(443);var p=a(263);function b(e){throw new Error("Unexpected object: "+e)}var m,h=function(){var e=Object(l.d)((function(e){return e.message}));return i.a.createElement("div",null,"Error: ",e)},g=a(548),j=a(585),O=a(568),y=a(110),v=a.n(y),w=a(29),E=a(13),C=function(e){return{type:"country-toggled",countryCode:e}},x=function(e){return{type:"case-chart-log-setting-changed",newSetting:e}},S=a(128),T=a(129),D=a(347),A=a(130),k=a(348),M=a(349),R=a(131),F=a(350),I=a(351),P=a(132),L=a(352),B=a(133),U=a(353),W=a(281),V=[S.a,T.a,D.a,A.a,k.a,M.a,R.a,F.a,I.a,P.a,L.a,B.a,U.a],N=[300,600],z=function(e){return e.data},Y=function(e){return e.ui.pickedCountries},_=Object(w.a)(Y,(function(e){var t=new Map,a=new Set;return e.forEach((function(e){var n="undefined",r=Object(W.murmur3)(e);do{r=Object(W.murmur3)(r.toString()),n=V[r%V.length][N[r%N.length]]}while(a.has(n)&&a.size<V.length*N.length);a.add(n),t.set(e,n)})),t})),H=Object(w.a)(z,(function(e){var t=e.groupBy((function(e){return e.isoCode})).select((function(e){return{code:e.first().isoCode,name:e.first().location}})).toArray().map((function(e){return[e.code,e.name]}));return new Map(t)})),G=a(354),J=a(213),X=a(4),q=Object(G.a)({paperPadding:{padding:"30px"}}),K=Object(X.a)(q)((function(e){var t=Object(g.a)("(min-width:600px)");return i.a.createElement(p.a,{my:3,py:3},i.a.createElement(J.a,{elevation:e.elevation,className:t?e.classes.paperPadding:""},e.children))})),Z=function(e){return function(t,a,n,r){return t.map((function(t){return{name:r.get(t)||"",data:a.where((function(e){return e.isoCode===t})).toArray().map((function(t){return[t.date.getTime(),e(t)]})),type:"line",color:n.get(t)}}))}},Q=function(e){var t=e.logAxisSetting,a=e.cases;return{chart:{height:e.wide?"50%":"100%",zoomType:"x"},title:{text:""},xAxis:{type:"datetime",title:{text:"Date"},labels:{step:1}},yAxis:{type:t,title:{text:e.yAxisLabel}},series:a,credits:{enabled:!1}}},$=function(){var e=Object(l.d)(Object(w.a)(Y,z,_,H,Z((function(e){return 1e6*e.totalCases/e.population})))),t=Object(l.d)((function(e){return e.ui.caseChart.logSetting})),a=Object(l.c)(),n=Object(g.a)("(min-width:600px)"),r=Q({logAxisSetting:t,cases:e,wide:n,yAxisLabel:"Cases per 1M population"});return i.a.createElement(K,{id:"cases",elevation:3},i.a.createElement("h2",null,"Cases over Time"),i.a.createElement(j.a,{value:t,onChange:function(e,t){t&&("linear"!==t&&"logarithmic"!==t||a(x(t)))},exclusive:!0,"aria-label":"log axis setting"},i.a.createElement(O.a,{value:"linear","aria-label":"linear"},"linear"),i.a.createElement(O.a,{value:"logarithmic","aria-label":"logarithmic"},"log")),i.a.createElement(v.a,{highcharts:f.a,options:r}))},ee=function(){var e=Object(l.d)(Object(w.a)(Y,z,_,H,Z((function(e){return 1e6*e.totalDeaths/e.population})))),t=Object(l.d)((function(e){return e.ui.caseChart.logSetting})),a=Object(g.a)("(min-width:600px)"),n=Q({logAxisSetting:t,cases:e,wide:a,yAxisLabel:"Deaths per 1M population"}),r=Object(l.c)();return i.a.createElement(K,{id:"cases",elevation:3},i.a.createElement("h2",null,"Deaths over Time"),i.a.createElement(j.a,{value:t,onChange:function(e,t){t&&("linear"!==t&&"logarithmic"!==t||r(x(t)))},exclusive:!0,"aria-label":"log axis setting"},i.a.createElement(O.a,{value:"linear","aria-label":"linear"},"linear"),i.a.createElement(O.a,{value:"logarithmic","aria-label":"logarithmic"},"log")),i.a.createElement(v.a,{highcharts:f.a,options:n}))},te=a(91),ae=a(551),ne=a(390),re=a(356),oe=a(558),ce=a(113),ie=Object(w.a)((function(e){return e.data}),(function(e){return e.ui.pickedCountries}),(function(e){return e.ui.searchText}),(function(e,t,a){return e.select((function(e){return{isoCode:e.isoCode,location:e.location}})).distinct((function(e){return e.isoCode})).orderBy((function(e){return e.location})).toPairs().map((function(e){var a=Object(te.a)(e,2),n=(a[0],a[1]);return Object(E.a)(Object(E.a)({},n),{},{active:Object(ce.includes)(n.isoCode)(t)})})).filter((function(e){return e.active||""!==a&&e.location.toLowerCase().startsWith(a.toLowerCase())}))})),se=function(){var e=Object(l.c)(),t={width:"180px"},a=Object(l.d)(ie).map((function(a){var n=a.isoCode,r=a.location,o=a.active;return i.a.createElement(ae.a,{button:!0,key:n,onClick:function(t){e(C(n))},style:t},i.a.createElement(ne.a,{edge:"start",checked:o,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}}),r)})),n=Object(l.d)((function(e){return e.ui.searchText}));return i.a.createElement(K,{elevation:3},i.a.createElement("label",null,i.a.createElement("br",null),i.a.createElement(re.a,{type:"text",name:"search",placeholder:"Search Countries",onChange:function(t){e({type:"country-search-changed",search:t.target.value})},value:n}),i.a.createElement(oe.a,{id:"countries",style:{display:"flex",padding:0,flexWrap:"wrap",alignItems:"center",justifyContent:"center"}},a)))},ue=a(402),le=a.n(ue),de=a(412),fe=a.n(de),pe=a(403),be=a.n(pe),me=a(410),he=a.n(me),ge=a(284),je=a.n(ge),Oe=a(283),ye=a.n(Oe),ve=a(404),we=a.n(ve),Ee=a(405),Ce=a.n(Ee),xe=a(407),Se=a.n(xe),Te=a(408),De=a.n(Te),Ae=a(409),ke=a.n(Ae),Me=a(413),Re=a.n(Me),Fe=a(406),Ie=a.n(Fe),Pe=a(411),Le=a.n(Pe),Be=a(414),Ue=a.n(Be),We=a(397),Ve=a.n(We),Ne={Add:Object(c.forwardRef)((function(e,t){return i.a.createElement(le.a,Object.assign({},e,{ref:t}))})),Check:Object(c.forwardRef)((function(e,t){return i.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Clear:Object(c.forwardRef)((function(e,t){return i.a.createElement(ye.a,Object.assign({},e,{ref:t}))})),Delete:Object(c.forwardRef)((function(e,t){return i.a.createElement(we.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(c.forwardRef)((function(e,t){return i.a.createElement(je.a,Object.assign({},e,{ref:t}))})),Edit:Object(c.forwardRef)((function(e,t){return i.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Export:Object(c.forwardRef)((function(e,t){return i.a.createElement(Ie.a,Object.assign({},e,{ref:t}))})),Filter:Object(c.forwardRef)((function(e,t){return i.a.createElement(Se.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(c.forwardRef)((function(e,t){return i.a.createElement(De.a,Object.assign({},e,{ref:t}))})),LastPage:Object(c.forwardRef)((function(e,t){return i.a.createElement(ke.a,Object.assign({},e,{ref:t}))})),NextPage:Object(c.forwardRef)((function(e,t){return i.a.createElement(je.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(c.forwardRef)((function(e,t){return i.a.createElement(he.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(c.forwardRef)((function(e,t){return i.a.createElement(ye.a,Object.assign({},e,{ref:t}))})),Search:Object(c.forwardRef)((function(e,t){return i.a.createElement(Le.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(c.forwardRef)((function(e,t){return i.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(c.forwardRef)((function(e,t){return i.a.createElement(Re.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(c.forwardRef)((function(e,t){return i.a.createElement(Ue.a,Object.assign({},e,{ref:t}))}))},ze=function(){var e=Object(l.d)((function(e){return e.data})),t=Object(l.d)((function(e){return e.ui.pickedCountries})),a=Object(l.d)((function(e){return e.ui.dataTable.dateToDisplay})),n=new Date,r=new Date;r.setTime(r.getTime()-864e5);var o="today"===a?n:r,c=function(e,t,a){var n=e.where((function(e){return t=e.date,a=o,t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===a.getDate();var t,a}));if(0===n.count()){var r=e.orderByDescending((function(e){return e.date})).where((function(e){return void 0!==e[a]}));if(0===r.count())return;return r.first()[a]}return n.first()[a]},s=e.orderByDescending((function(e){return e.date})).groupBy((function(e){return e.isoCode})).select((function(e){return{date:e.first().date,isoCode:e.first().isoCode,location:e.first().location,totalCases:c(e,0,"totalCases"),newCases:c(e,0,"newCases"),totalTests:e.getSeries("totalTests").select((function(e){return e||0})).max(),population:e.first().population}})).toArray().map((function(e){return Object(E.a)(Object(E.a)({},e),{},{date:e.date.toString(),testsPer1MPopulation:Math.round(1e6*e.totalTests/e.population)})})),u=function(e){return function(t){return t[e].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},d=[{title:"Country",field:"location",render:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ne.a,{checked:(a=e.isoCode,Object(ce.includes)(a)(t)),onChange:function(t){f(C(e.isoCode))}})," ",e.location);var a}},{title:"Total Cases",field:"totalCases",type:"numeric",defaultSort:"desc",render:u("totalCases")},{title:"New Cases",field:"newCases",type:"numeric",render:u("newCases")},{title:"Tests per 1M population",field:"testsPer1MPopulation",type:"numeric",render:u("testsPer1MPopulation")},{title:"Total Tests",field:"totalTests",type:"numeric",render:u("totalTests")}],f=Object(l.c)();return i.a.createElement(K,null,i.a.createElement(j.a,{value:a,onChange:function(e,t){t&&("today"!==t&&"yesterday"!==t||f(function(e){return{type:"data-table-date-selection-changed",newSetting:e}}(t)))},exclusive:!0,"aria-label":"log axis setting"},i.a.createElement(O.a,{value:"today","aria-label":"today"},"today"),i.a.createElement(O.a,{value:"yesterday","aria-label":"yesterday"},"yesterday")),i.a.createElement(Ve.a,{columns:d,data:s,title:"Country Table",icons:Ne,options:{fixedColumns:{left:1,right:0}}}))},Ye=a(143),_e=a(416),He=a(417),Ge=function(e){return Object(_e.a)(Object(Ye.b)(e)).pipe(Object(He.a)((function(e){return e.renameSeries({iso_code:"isoCode",total_cases:"totalCases",new_cases:"newCases",total_deaths:"totalDeaths",new_deaths:"newDeaths",total_tests:"totalTests",new_tests:"newTests"})})),Object(He.a)((function(e){return e.parseDates("date")})),Object(He.a)((function(e){return e.parseInts("totalCases")})),Object(He.a)((function(e){return e.parseInts("newCases")})),Object(He.a)((function(e){return e.parseInts("totalDeaths")})),Object(He.a)((function(e){return e.parseInts("newDeaths")})),Object(He.a)((function(e){return e.parseInts("totalTests")})),Object(He.a)((function(e){return e.parseInts("newTests")})))},Je=function(e){return Object(_e.a)(Object(Ye.b)(e)).pipe(Object(He.a)((function(e){return e.parseInts(["Value","Year"])})),Object(He.a)((function(e){return e.renameSeries({Year:"year","Country Code":"isoCode",Value:"population"})})))},Xe=function(e){return""===e?"0":e},qe=function(e){return Object(_e.a)(Object(Ye.b)(e)).pipe(Object(He.a)((function(e){return e.parseDates("date","YYYYMMDD")})),Object(He.a)((function(e){return e.renameSeries({state:"isoCode",positive:"totalCases",positiveIncrease:"newCases",death:"totalDeaths",deathIncrease:"newDeaths",totalTestResults:"totalTests",totalTestResultsIncrease:"newTests"})})),Object(He.a)((function(e){return e.transformSeries({totalCases:Xe,newCases:Xe,totalDeaths:Xe,newDeaths:Xe,totalTests:Xe,newTests:Xe})})),Object(He.a)((function(e){return e.parseInts(["totalCases","newCases","totalDeaths","newDeaths","totalTests","newTests"])})))},Ke=function(e){return Object(_e.a)(Object(Ye.b)(e)).pipe(Object(He.a)((function(e){return e.parseInts("population")})))},Ze=function(e,t,a,n){var r=function(e){return e.groupBy((function(e){return e.isoCode})).select((function(e){var t=e.summarize({year:Ye.a.max}).year,a=e.where((function(e){return e.year===t})).first().population;return{isoCode:e.first().isoCode,population:a}})).inflate()}(t),o=a.join(n,(function(e){return e.isoCode}),(function(e){return e.code}),(function(e,t){return Object(E.a)(Object(E.a)({},e),{},{location:t?t.state:"unknown location name",population:t.population,locationType:"us-state"})})),c=e.join(r,(function(e){return e.isoCode}),(function(e){return e.isoCode}),(function(e,t){return Object(E.a)(Object(E.a)({},e),{},{population:t?t.population:0,locationType:"country"})}));return o.concat(c)},Qe=function(e,t){e=Math.ceil(Math.abs(e));for(var a=[],n=0;n<t.length;n++){for(var r=Object(te.a)(t[n],1)[0],o=0,c=0,i=-1*e;i<=e;i++)void 0!==t[n+i]&&(c+=t[n+i][1],o+=1);a.push([r,c/o])}return a},$e=function(e,t,a,n){return e.map((function(e){var r=t.where((function(t){return t.isoCode===e})).select((function(e){return{isoCode:e.isoCode,totalDeaths:e.totalDeaths,population:e.population,newDeaths:e.newDeaths}}));return{name:n.get(e),type:"line",color:a.get(e),data:Qe(7,r.toArray().map((function(e){return[e.totalDeaths/e.population,e.newDeaths/e.population]})).sort((function(e,t){var a=Object(te.a)(e,2),n=a[0],r=(a[1],Object(te.a)(t,2)),o=r[0];r[1];return n<o?-1:1}))).filter((function(e){var t=Object(te.a)(e,2),a=t[0],n=t[1];return 0!==a&&0!==n}))}}))},et=function(){var e=Object(l.d)(Object(w.a)(Y,z,_,H,$e)),t=Object(g.a)("(min-width:600px)"),a={title:{text:""},chart:{height:t?"50%":"100%",zoomType:"xy"},xAxis:{type:"logarithmic",title:{text:"Fraction of dead population"},min:1e-6,tickInterval:.1,labels:{step:t?1:5,formatter:function(){return this.value.toExponential(1)},rotation:-45}},yAxis:{type:"logarithmic",title:{text:"Fraction of dead population per day (smoothed)"},tickInterval:.1,labels:{step:1,formatter:function(){return this.value.toExponential(1)}}},series:e,credits:{enabled:!1}};return i.a.createElement(K,{id:"deathcurve",elevation:3},i.a.createElement("h2",null,"Robins Death Curve",i.a.createElement("span",{role:"img","aria-label":"tm"},"\u2122\ufe0f")),i.a.createElement(v.a,{highcharts:f.a,options:a}))},tt=a(574),at=a(578),nt=a(383),rt=a(579),ot=a(289),ct=function(e,t){return function(a,n,r,o,c){var s=Object(ot.max)(n.where((function(e){return a.includes(e.isoCode)})).toArray().map((function(t){return e(t)})))||1e3,u=Math.pow(10,Math.floor(Math.log10(s))),l=Object(ot.round)(s+u/2,-Math.log10(u));return a.map((function(a){var s={name:o.get(a),type:"column",color:r.get(a),data:n.where((function(e){return e.isoCode===a&&e.date>new Date(2020,2,14)})).toArray().map((function(t){return[t.date.getTime(),e(t)]})).sort()},u={name:"7 day average",data:Qe(3,s.data),type:"line",color:S.a[900],enableMouseTracking:!1},d={chart:{height:"300",width:"300"},title:{text:o.get(a)},xAxis:{type:"datetime",tickInterval:6048e5},yAxis:{min:0,max:c?l:null,title:{text:t}},legend:{enabled:!1},series:[s,u],credits:{enabled:!1}};return i.a.createElement(tt.a,{item:!0,key:a},i.a.createElement(v.a,{highcharts:f.a,options:d}))}))}},it=function(e){return e.ui.caseChart.syncAxes},st=function(){var e=Object(l.d)(it),t=Object(l.c)();return i.a.createElement(at.a,{row:!0},i.a.createElement(nt.a,{control:i.a.createElement(rt.a,{checked:e,onChange:function(){return t({type:"sync-axis-toggle"})},name:"syncAxes"}),label:"Sync Axis Range"}))},ut=function(){var e=Object(l.d)(Object(w.a)(Y,z,_,H,it,ct((function(e){return 1e6*e.newCases/e.population}),"daily new cases per 1M population")));return i.a.createElement(K,{elevation:3,id:"new-cases"},i.a.createElement("h2",null,"New Cases"),i.a.createElement(st,null),i.a.createElement(tt.a,{container:!0,justify:"center",spacing:0},e))},lt=function(){var e=Object(l.d)(Object(w.a)(Y,z,_,H,it,ct((function(e){return 1e6*e.newDeaths/e.population}),"daily new deaths per 1M population")));return i.a.createElement(K,{elevation:3,id:"new-deaths"},i.a.createElement("h2",null,"New Deaths"),i.a.createElement(st,null),i.a.createElement(tt.a,{container:!0,justify:"center",spacing:0},e))},dt={textAlign:"center"},ft=function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Covid Stats"),i.a.createElement(ze,null),i.a.createElement(se,null),i.a.createElement(ut,null),i.a.createElement(lt,null),i.a.createElement($,null),i.a.createElement(ee,null),i.a.createElement(et,null),i.a.createElement("div",{style:dt},"data from"," ",i.a.createElement("a",{href:"https://covid.ourworldindata.org"},"Our World In Data"),","," ",i.a.createElement("a",{href:"https://github.com/datasets/population"},"datahub.io via the World Bank")," ",", ",i.a.createElement("a",{href:"https://covidtracking.com/"},"The Covid Tracking Project")," ","and ",i.a.createElement("a",{href:"https://civil.services"},"Civil Services")))},pt=a(384),bt=function(){var e=Object(l.d)((function(e){return e.progress})),t=function(e){return e.done/e.total*100};return i.a.createElement(K,null,i.a.createElement("div",null,i.a.createElement("h2",null,"loading world covid data"),i.a.createElement(pt.a,{variant:"determinate",value:t(e.covid)})),i.a.createElement("div",null,i.a.createElement("h2",null,"loading US covid data"),i.a.createElement(pt.a,{variant:"determinate",value:t(e.us)})),i.a.createElement("div",null,i.a.createElement("h2",null,"loading world population data"),i.a.createElement(pt.a,{variant:"determinate",value:t(e.population)})),i.a.createElement("div",null,i.a.createElement("h2",null,"loading US state data"),i.a.createElement(pt.a,{variant:"determinate",value:t(e.stateInfo)})))},mt=function(){var e=Object(l.d)((function(e){return e.type}));return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"github-fork-ribbon right-top",href:"https://github.com/jupp0r/covid-stats","data-ribbon":"Fork me on GitHub",title:"Fork me on GitHub"},"Fork me on GitHub"),i.a.createElement(p.a,{px:3,py:3,my:3,textAlign:"center"},function(e){switch(e){case"loading":return i.a.createElement(bt,null);case"loaded":return i.a.createElement(ft,null);case"error":return i.a.createElement(h,null);default:return b(e)}}(e)))},ht=a(422),gt=a(582),jt=a(419),Ot=a(581),yt=a(564),vt=a(580),wt=a(562),Et=a(26),Ct=a(418),xt=function(e,t,a,n){return e.pipe(Object(wt.a)((function(e){return"initialized"===e.type})),Object(Ct.a)((function(){var e=function(e){var t=new XMLHttpRequest;t.responseType="text";var a=new Et.a((function(e){t.addEventListener("progress",(function(t){return e.next({done:t.loaded,total:t.total})}))})),n=new Et.a((function(e){t.addEventListener("readystatechange",(function(a){4===t.readyState&&(200===t.status?(e.next(t.response),e.complete()):e.error(t.response))}))}));return t.open("GET",e),t.send(),{progress:a,result:n}}(t),r=e.progress,o=e.result,c=r.pipe(Object(He.a)((function(e){return function(e){return Object(E.a)(Object(E.a)({},e),{},{type:"progress"})}(Object(E.a)(Object(E.a)({},e),{},{target:n}))}))),i=o.pipe(Object(Ct.a)(a),Object(He.a)((function(e){return{type:"success",data:e}})));return Object(yt.a)(c,i)})))},St=Object(Ot.a)((function(e){var t=xt(e,"https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/owid-covid-data.csv",Ge,"covid"),a=xt(e,"https://raw.githubusercontent.com/datasets/population/master/data/population.csv",Je,"population"),n=xt(e,"https://covidtracking.com/api/v1/states/daily.csv",qe,"us"),r=xt(e,"https://raw.githubusercontent.com/CivilServiceUSA/us-states/master/data/states.csv",Ke,"stateInfo"),o=Object(yt.a)(t,a,n,r).pipe(Object(jt.a)("progress")),c=function(e){return e.pipe(Object(wt.a)((function(e){return"success"===e.type})))},i=Object(vt.a)(c(t),c(a),c(n),c(r)).pipe(Object(He.a)((function(e){var t=Object(te.a)(e,4),a=t[0],n=t[1],r=t[2],o=t[3];return"success"===a.type&&"success"===n.type&&"success"===r.type&&"success"===o.type?{type:"fetch-success",response:Ze(a.data,n.data,r.data,o.data)}:{type:"error-during-fetch",message:"Error: ".concat(a," or ").concat(n," failed to fetch")}})));return Object(yt.a)(o,i)})),Tt=a(421),Dt=a(205),At=function(e,t){var a=new URL(e),n=new URLSearchParams(a.search);return n.set("countries[]",JSON.stringify(t)),a.search=n.toString(),a.toString()},kt=function(e,t){return e},Mt=function(e,t){switch(t.type){case"fetch-success":var a=function(e){var t=new URL(e),a=new URLSearchParams(t.search).get("countries[]");if(!a)return It;var n=JSON.parse(a);return Array.isArray(n)?n:(console.error("invalid url params"),It)}(e.routing.url);return Object(E.a)(Object(E.a)({},e),{},{type:"loaded",data:t.response,ui:{pickedCountries:a,searchText:"",caseChart:{logSetting:"linear",syncAxes:!1},dataTable:{dateToDisplay:"yesterday"}},routing:{url:At(e.routing.url,a)}});case"progress":return Object(E.a)(Object(E.a)({},e),{},{progress:Object(E.a)(Object(E.a)({},e.progress),{},Object(Dt.a)({},t.target,Object(E.a)({done:t.done,total:Math.max(e.progress[t.target].total,t.done)},0!==t.total&&{total:Math.max(t.total,t.done)})))});default:return e}},Rt=function(e,t){switch(t.type){case"country-toggled":var a=(n=t.countryCode,r=e.ui.pickedCountries,Object(ce.includes)(n)(r)?Object(ce.filter)((function(e){return e!==n}),r):[n].concat(Object(Tt.a)(r)));return Object(E.a)(Object(E.a)({},e),{},{ui:Object(E.a)(Object(E.a)({},e.ui),{},{pickedCountries:a}),routing:{url:At(e.routing.url,a)}});case"country-search-changed":return Object(E.a)(Object(E.a)({},e),{},{ui:Object(E.a)(Object(E.a)({},e.ui),{},{searchText:t.search})});case"case-chart-log-setting-changed":return Object(E.a)(Object(E.a)({},e),{},{ui:Object(E.a)(Object(E.a)({},e.ui),{},{caseChart:Object(E.a)(Object(E.a)({},e.ui.caseChart),{},{logSetting:t.newSetting})})});case"data-table-date-selection-changed":return Object(E.a)(Object(E.a)({},e),{},{ui:Object(E.a)(Object(E.a)({},e.ui),{},{dataTable:Object(E.a)(Object(E.a)({},e.ui.dataTable),{},{dateToDisplay:t.newSetting})})});case"sync-axis-toggle":return Object(E.a)(Object(E.a)({},e),{},{ui:Object(E.a)(Object(E.a)({},e.ui),{},{caseChart:Object(E.a)(Object(E.a)({},e.ui.caseChart),{},{syncAxes:!e.ui.caseChart.syncAxes})})});default:return e}var n,r},Ft={type:"loading",progress:{covid:{done:0,total:2459742},population:{done:0,total:487991},us:{done:0,total:679331},stateInfo:{done:0,total:30102}},routing:{url:window.location.toString()}},It=["AZ","CA","FL","OK","TX","USA","DEU","SWE","NGA","RUS","BRA"],Pt=Object(gt.a)(),Lt=Object(ht.a)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;if("url-updated"===t.type)return Object(E.a)(Object(E.a)({},e),{},{routing:Object(E.a)(Object(E.a)({},e.routing),{},{url:t.url})});switch(e.type){case"error":return kt(e);case"loading":return Mt(e,t);case"loaded":return Rt(e,t);default:return b(e)}},middleware:[Pt]});Pt.run(St),m=Lt,window.addEventListener("popstate",(function(){m.dispatch({type:"url-updated",url:window.location.toString()})})),m.subscribe((function(){var e=m.getState().routing.url;window.location.toString()!==e&&(window.history.pushState(null,"",e),document.body.scrollTop=0)})),Lt.dispatch({type:"initialized"});var Bt=document.getElementById("root"),Ut=Object(n.a)({palette:{type:"light"}});u.a.render(i.a.createElement(l.a,{store:Lt},i.a.createElement(i.a.StrictMode,null,i.a.createElement(r.a,{theme:Ut},i.a.createElement(o.a,null),i.a.createElement(mt,null)))),Bt)}},[[431,1,2]]]);
//# sourceMappingURL=main.ebf86d7c.chunk.js.map